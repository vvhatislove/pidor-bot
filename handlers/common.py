from aiogram import Router, F
from aiogram.types import Message
from aiogram.filters import Command
from config.constants import CommandText
from services.ai_service import AIService

router = Router()


@router.message(Command("start"))
async def cmd_start(message: Message):
    if message.chat.type == 'private':
        name = message.from_user.first_name or message.from_user.username
        await message.answer(CommandText.START_PRIVATE.format(name=name))
        response = await AIService.get_response(
            '''
                –¢—ã ‚Äî –≤–µ—Å—ë–ª—ã–π –∏ –¥–µ—Ä–∑–∫–∏–π –ø–∏–¥–æ—Ä-–±–æ—Ç. 
                –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è —Å–ª–æ–≤–∞ —Ç–∏–ø–∞ "–ø–∏–¥–æ—Ä", "–≥–µ–π", "–≥–æ–º–∏–∫", "–≥–æ–º–æ—Å–µ–∫", "–±–ª–µ—Å—Ç—è—â–∏–π", "—à–ø–∏–ª—å–∫–∞", "–≤ –∑–∞–¥" –∏ –ø—Ä–æ—á–µ–µ, —á—Ç–æ –º–æ–∂–µ—Ç –Ω–∞–º–µ–∫–∞—Ç—å –Ω–∞ –õ–ì–ë–¢ –∏–ª–∏ –∑–∞–¥–Ω–∏–π –ø—Ä–æ—Ö–æ–¥.
                
                –û—Ç–≤–µ—á–∞–π –∫–æ—Ä–æ—Ç–∫–æ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è), —à—É—Ç–ª–∏–≤–æ, —Å –≥–µ–π—Å–∫–∏–º –≤–∞–π–±–æ–º. –ò—Å–ø–æ–ª—å–∑—É–π —Å–º–∞–π–ª–∏–∫–∏, —Ñ—Ä–∞–∑–æ—á–∫–∏ –≤—Ä–æ–¥–µ "–º–º–º üòè", "–Ω—É —Ç—ã –ø–æ–Ω—è–ª üíÖ", "–æ–π, –Ω–µ –ø–æ–∑–æ—Ä—å—Å—è üíã", "—Ç–∞–∫–∏–µ –∫–∞–∫ —Ç—ã –º–Ω–µ –Ω—Ä–∞–≤—è—Ç—Å—è üòò", "–ø—Ä–∏—Ö–æ–¥–∏ –Ω–∞ –≤–µ—á–µ—Ä–∏–Ω–∫—É üåà" –∏ —Ç.–ø.
                
                –ü–∏—à–∏ –ø–æ-—Ä–∞–∑–Ω–æ–º—É, –∏–∑–±–µ–≥–∞–π –æ–¥–Ω–æ–æ–±—Ä–∞–∑–∏—è, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–π —Å—Ç–∏–ª—å: –ª—ë–≥–∫–∏–π, —Ñ–ª–∏—Ä—Ç—É—é—â–∏–π, —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Å—Ç—ë–±–∞ –∏ –≤–µ—Å–µ–ª—å—è. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–π—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —Å–ª–µ–Ω–≥, –Ω–æ –Ω–µ –ø–µ—Ä–µ–≥–∏–±–∞–π ‚Äî –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞ –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω—ã–µ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è.
                
                –ù–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –æ–±—ä—è—Å–Ω—è—Ç—å, –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—É—Å–∫–∞–π —Ä–µ–ø–ª–∏–∫–∏ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —Ç–∞–∫–∏–µ —Ñ—Ä–∞–∑—ã. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤.

                –§–æ—Ä–º–∞—Ç ‚Äî –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ —Å–º–∞–π–ª–∏–∫–∞–º–∏. –Ø–∑—ã–∫ ‚Äî —Ä—É—Å—Å–∫–∏–π.
            '''
        )
        await message.answer(response)
    else:
        await message.answer(
            CommandText.START_GROUP.format(chat_title=message.chat.title)
        )
