# ü§ñ PidorBot

**PidorBot** ‚Äî Telegram-–±–æ—Ç, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Python, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π `aiogram`, `SQLAlchemy`, `OpenAI` –∏ –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—É—é
–º–µ—Ö–∞–Ω–∏–∫—É. –ë–æ—Ç –≤—ã–±–∏—Ä–∞–µ—Ç "–ø–∏–¥–æ—Ä–∞ –¥–Ω—è", —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥—É—ç–ª—è–º–∏ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –≤–∞–ª—é—Ç–æ–π –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å OpenAI
–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ—Ä–∞–∑ –∏ –æ—Ç–≤–µ—Ç–æ–≤.

## üì¶ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Python 3.12.9
- [aiogram](https://docs.aiogram.dev/) ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram-–±–æ—Ç–æ–≤
- [SQLAlchemy](https://www.sqlalchemy.org/) + [aiosqlite](https://aiosqlite.omnilib.dev/) ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è ORM –∏ SQLite
- [alembic](https://alembic.sqlalchemy.org/) ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- [pydantic-settings](https://docs.pydantic.dev/latest/concepts/pydantic_settings/) ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `.env`
- [OpenAI API](https://platform.openai.com/docs/) ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ—Ä–∞–∑, –æ—Ç–≤–µ—Ç–æ–≤
- `requests` ‚Äî –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤


## üìã –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
ADMIN_ID=telegram_id_–∞–¥–º–∏–Ω–∞
DATABASE_URL=sqlite+aiosqlite:///./pidorbot.db
BOT_NAME=PidorBot
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_OpenAI
TIMEZONE=Europe/Kyiv # –∏–ª–∏ –¥—Ä—É–≥–æ–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

# 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
 git clone https://github.com/yourusername/pidorbot.git
cd pidorbot
````

# 2. –°–æ–∑–¥–∞—ë–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
 python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

# 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
 pip install -r requirements.txt
```

# 4. –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
 alembic upgrade head
```

# 5. –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
```bash
 python main.py
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker


# 1. –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑
```bash
 docker build -t pidorbot 
```
# 2. –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
 docker compose up -d
```

## üí¨ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:
- `pidor` - ü§° –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–∏–¥–æ—Ä–∞ –¥–Ω—è
- `auto_pidor` - üîÑ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∏–¥–æ—Ä–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- `slots` - üé∞ –ö—Ä—É—Ç–Ω—É—Ç—å –ø–∏–¥–æ—Ä-–∫–∞–∑–∏–Ω–æ
- `reg` - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∏–≥—Ä—É
- `unreg` - ‚ùå –û—Ç–º–µ–Ω–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- `stats` - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞
- `profile` - üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `achievements` - üèÖ –ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- `updatedata` - ‚ôªÔ∏è –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ü–∏–¥–æ—Ä–ë–∞–∑–µ
- `duel` - ‚öîÔ∏è –í—ã–∑–≤–∞—Ç—å –Ω–∞ –¥—É—ç–ª—å: /duel @username —Å—É–º–º–∞
- `balance` - üí∞ –£–∑–Ω–∞—Ç—å –±–∞–ª–∞–Ω—Å
- `help` - üìñ –ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

–ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:
- `sendglobalmessage <—Ç–µ–∫—Å—Ç>` - –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

## üß† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥—É—ç–ª–∏ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- –ò–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ –∏ —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–≤–æ–∫
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –∏ —Ñ—Ä–∞–∑ —Å –ø–æ–º–æ—â—å—é OpenAI
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üß¨ –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
 alembic revision --autogenerate -m "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:

```bash
 alembic upgrade head
```

## üõ† –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤ `requirements.txt`.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[GPL 3.0](./LICENSE)

---

**–ê–≤—Ç–æ—Ä:** [vvhatislove](https://github.com/vvhatislove)